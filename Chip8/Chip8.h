#pragma once
#include <array>

class Chip8
{
public:
	Chip8();
	void Reset();
	void Init();
	void LoadFontSet();
	~Chip8();
private:
	static const unsigned int MEMORY_SIZE					= 4096;			// Memory Size
	static const unsigned int GLOBAL_SIZE					= 0x10;			// General size is 16bit
	static const unsigned int FONT_SIZE						= 0x50;			// Font Size = 80
	unsigned int programCounter								= 0x200;		// Program Counter
	unsigned int opcode										= 0x000;		// Current Opcode
	unsigned int stackPointer								= 0x000;		// Stack Pointer
	std::array<unsigned int, MEMORY_SIZE> memory			= { 0x000 };	// Memory
	std::array<unsigned int, GLOBAL_SIZE> virtualRegisters	= { 0x000 };	// Virtual Registers -> V[x]; 16 registers
	unsigned int indexRegister								= 0x000;		// I [Index Register]
	unsigned int soundTimer									= 0x000;		// Timer for the sound
	unsigned int delayTimer									= 0x000;		// Timer for the delay
	std::array<unsigned int, GLOBAL_SIZE> stack				= { 0x000 };	// 16bit Stack
	const std::array<unsigned char, FONT_SIZE> FONT_SET =					// The fontset
	{
		0xF0, 0x90, 0x90, 0x90, 0xF0, //0
		0x20, 0x60, 0x20, 0x20, 0x70, //1
		0xF0, 0x10, 0xF0, 0x80, 0xF0, //2
		0xF0, 0x10, 0xF0, 0x10, 0xF0, //3
		0x90, 0x90, 0xF0, 0x10, 0x10, //4
		0xF0, 0x80, 0xF0, 0x10, 0xF0, //5
		0xF0, 0x80, 0xF0, 0x90, 0xF0, //6
		0xF0, 0x10, 0x20, 0x40, 0x40, //7
		0xF0, 0x90, 0xF0, 0x90, 0xF0, //8
		0xF0, 0x90, 0xF0, 0x10, 0xF0, //9
		0xF0, 0x90, 0xF0, 0x90, 0x90, //A
		0xE0, 0x90, 0xE0, 0x90, 0xE0, //B
		0xF0, 0x80, 0x80, 0x80, 0xF0, //C
		0xE0, 0x90, 0x90, 0x90, 0xE0, //D
		0xF0, 0x80, 0xF0, 0x80, 0xF0, //E
		0xF0, 0x80, 0xF0, 0x80, 0x80  //F
	};
};
